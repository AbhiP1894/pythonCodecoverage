version: 2.1

description: "Orb for building Python packages"

commands:
  build-package:
    description: "Build a Python package"
    steps:
      - checkout
      - python/install-packages  # Automatically installs dependencies from requirements.txt
      - run:
          name: Install Build Dependencies
          command: pip install build  # This installs the `build` tool to create packages
      - run:
          name: Build Package
          command: python -m build  # This will create a distribution under `dist/`
      - store_artifacts:
          path: dist  # Store the built package as an artifact
